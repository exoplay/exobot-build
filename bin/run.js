!function(e,_){for(var t in _)e[t]=_[t]}(exports,function(e){var _={};function t(o){if(_[o])return _[o].exports;var r=_[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=_,t.d=function(e,_,o){t.o(e,_)||Object.defineProperty(e,_,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,_){if(1&_&&(e=t(e)),8&_)return e;if(4&_&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&_&&"string"!=typeof e)for(var r in e)t.d(o,r,function(_){return e[_]}.bind(null,r));return o},t.n=function(e){var _=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(_,"a",_),_},t.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)},t.p="",t(t.s=8)}([function(e,_){e.exports=require("path")},function(e,_){e.exports=require("fs-extra")},function(e,_){e.exports=require("child_process")},function(e,_){e.exports=require("webpack")},function(e,_){e.exports=require("@exoplay/exobot")},function(e,_){e.exports=require("change-case")},function(e,_){e.exports=require("yeoman-environment")},function(e,_,t){var o=t(10),r=t(3),n=t(0),a=t(11),i=t(12);e.exports=function(e){"string"==typeof e.extensions&&(e.extensions=e.extensions.split(","));var _=e.input,t=e.output,c=e.cwd,p=n.parse(_).dir,u=n.parse(t).dir,l=n.join(c,"node_modules");return{mode:"production",target:"node",externals:[i({modulesDir:l})],devtool:"source-map",context:n.join(c,p),entry:{js:n.parse(_).base},output:{path:n.join(c,u),filename:n.parse(t).base,libraryTarget:"commonjs"},module:{rules:[{test:/\.js$/,exclude:/node_modules/,loader:"babel-loader",query:{cacheDirectory:!0,presets:["@babel/env","babel-preset-minify"],plugins:[["@babel/plugin-proposal-decorators",{legacy:!0}],["@babel/plugin-proposal-class-properties",{loose:!0}],"babel-plugin-syntax-export-extensions"]}}]},resolve:{extensions:[".js",".json"],modules:[n.join(c,p)]},plugins:[new a({clear:!1,format:"build [:bar] "+o.green(":percent")+" (:elapsed seconds)"}),new r.LoaderOptionsPlugin({minimize:!0,debug:!0})],node:{global:!1,process:!1,Buffer:!1,crypto:!1,module:!1,clearImmediate:!1,setImmediate:!1,clearTimeout:!1,setTimeout:!1,os:!1,_filename:!1,__dirname:!1}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _exoplay_exobot__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_exoplay_exobot__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_exoplay_exobot__WEBPACK_IMPORTED_MODULE_0__),change_case__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),change_case__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(change_case__WEBPACK_IMPORTED_MODULE_1__),webpack__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),webpack__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(webpack__WEBPACK_IMPORTED_MODULE_2__),path__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),path__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__),fs_extra__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),fs_extra__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(fs_extra__WEBPACK_IMPORTED_MODULE_4__),vm__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),vm__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(vm__WEBPACK_IMPORTED_MODULE_5__),yeoman_environment__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),yeoman_environment__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(yeoman_environment__WEBPACK_IMPORTED_MODULE_6__),child_process__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),child_process__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_7__),_webpackConfig__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),_webpackConfig__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_webpackConfig__WEBPACK_IMPORTED_MODULE_8__),generator_exobot__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),generator_exobot__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(generator_exobot__WEBPACK_IMPORTED_MODULE_9__);function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,_){if(e){if("string"==typeof e)return _arrayLikeToArray(e,_);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,_):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,_){(null==_||_>e.length)&&(_=e.length);for(var t=0,o=Array(_);t<_;t++)o[t]=e[t];return o}function ownKeys(e,_){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);_&&(o=o.filter((function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var _,t=1;t<arguments.length;t++)_=null==arguments[t]?{}:arguments[t],t%2?ownKeys(Object(_),!0).forEach((function(t){_defineProperty(e,t,_[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(_,t))}));return e}function _defineProperty(e,_,t){return _ in e?Object.defineProperty(e,_,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[_]=t,e}var yeomanEnv=yeoman_environment__WEBPACK_IMPORTED_MODULE_6___default.a.createEnv();yeomanEnv.register(require.resolve("generator-exobot/generators/app"),"exobot:app"),yeomanEnv.register(require.resolve("generator-exobot/generators/adapter"),"exobot:adapter"),yeomanEnv.register(require.resolve("generator-exobot/generators/plugin"),"exobot:plugin");var defaultName=path__WEBPACK_IMPORTED_MODULE_3___default.a.parse(process.cwd()).name+".js",exampleConfig={key:"exobot-example",plugins:{shell:["@exoplay/exobot",{import:"adapters.Shell"}],http:["@exoplay/exobot",{import:"adapters.HTTP"}],uptime:["@exoplay/exobot",{import:"plugins.Uptime"}],help:["@exoplay/exobot",{import:"plugins.Help"}],greetings:["@exoplay/exobot",{import:"plugins.Greetings"}],permissions:["@exoplay/exobot",{import:"plugins.Permissions"}],config:["@exoplay/exobot",{import:"plugins.Config"}]}},inputOption={input:{alias:"i",default:"./src/".concat(defaultName)}},outputOption={output:{alias:"o",default:defaultName}},cwdOption={cwd:{default:process.cwd()}},watchOption={watch:{alias:"w",default:!1}},forceOption={force:{alias:"f",default:!1}},argv=__webpack_require__(14).usage("exobot <command> [options]").command("build","Builds exobot",_objectSpread({},inputOption,{},outputOption,{},cwdOption,{},watchOption,{},forceOption)).command("watch","Builds exobot",_objectSpread({},inputOption,{},outputOption,{},cwdOption,{},forceOption,{watch:_objectSpread({},watchOption.watch,{default:!0})})).command("run","Starts an exobot from config",_objectSpread({},inputOption,{},outputOption,{},cwdOption,{},watchOption,{},forceOption,{start:{default:!0}})).command("example","Starts an exobot example",_objectSpread({},inputOption,{},outputOption,{},cwdOption,{},forceOption)).command("new <bot|plugin|adapter>","Bootstraps an exobot project",_objectSpread({},inputOption,{},cwdOption,{},outputOption,{},forceOption,{name:{default:"exobot"}})).demand(1).boolean("watch").boolean("start").alias("h","help").help("h").argv;function logResult(e,_){if(e)return console.error(e);var t=_.toJson();return 0<t.errors.length?console.error(t.errors):(0<t.warnings.length&&console.warn(t.warnings),void console.log("Wrote to ".concat(argv.o)))}function build(e,_){var t=_webpackConfig__WEBPACK_IMPORTED_MODULE_8___default()(argv),o=webpack__WEBPACK_IMPORTED_MODULE_2___default()(t);argv.watch?o.watch({},(function(e,t){logResult(e,t),_&&_()})):o.run((function(e,t){logResult(e,t),_?_():process.exit()}))}function buildFromConfig(args,configFile,callback){var config=eval("require")(configFile),packagePath=path__WEBPACK_IMPORTED_MODULE_3___default.a.join(args.cwd,"package.json");if(fs_extra__WEBPACK_IMPORTED_MODULE_4___default.a.existsSync(packagePath)&&!argv.f)console.log("Using existing package.json.");else{console.log("No package.json found; creating one."),fs_extra__WEBPACK_IMPORTED_MODULE_4___default.a.copySync("./package.json",packagePath);var pluginsToInstall=(configFile.plugins||[]).filter((function(e){return"string"==typeof e}));Object(child_process__WEBPACK_IMPORTED_MODULE_7__.execSync)("npm install",["--save"].concat(_toConsumableArray(pluginsToInstall)))}var outputFile=path__WEBPACK_IMPORTED_MODULE_3___default.a.join(argv.cwd,argv.output);console.log("Generating exobot file...");var botFileContents=["require('babel-polyfill')","const config = require('".concat(configFile,"')"),"const { Exobot } = require('@exoplay/exobot');","const bot = new Exobot(config);","module.exports = bot;"].join("\n");fs_extra__WEBPACK_IMPORTED_MODULE_4___default.a.createFileSync(outputFile),fs_extra__WEBPACK_IMPORTED_MODULE_4___default.a.writeFileSync(outputFile,botFileContents),callback&&callback()}function createBot(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},_=path__WEBPACK_IMPORTED_MODULE_3___default.a.join(argv.cwd,argv.input),t=path__WEBPACK_IMPORTED_MODULE_3___default.a.join(argv.cwd,"exobot.config.js"),o=path__WEBPACK_IMPORTED_MODULE_3___default.a.join(argv.cwd,argv.output),r=_,n=fs_extra__WEBPACK_IMPORTED_MODULE_4___default.a.existsSync(_);if(!n&&fs_extra__WEBPACK_IMPORTED_MODULE_4___default.a.existsSync(t)&&(r=t),!r)throw new Error("An exobot file was not found at ".concat(_," or ").concat(t,"."));buildFromConfig(argv,r,(function(){return e(o)}))}function runExampleBot(e){var _=path__WEBPACK_IMPORTED_MODULE_3___default.a.join(e.cwd,"package.json"),t=require(_),o=_objectSpread({},exampleConfig,{plugins:_objectSpread({},exampleConfig.plugins,_defineProperty({},Object(change_case__WEBPACK_IMPORTED_MODULE_1__.camel)(t.name),[require(path__WEBPACK_IMPORTED_MODULE_3___default.a.join(e.cwd,"./".concat(t.main))),{}]))});return new _exoplay_exobot__WEBPACK_IMPORTED_MODULE_0__.Exobot(o)}switch(argv._[0]){case"build":case"watch":build(argv);break;case"run":createBot((function(e){return Object(child_process__WEBPACK_IMPORTED_MODULE_7__.fork)(e)}));break;case"example":runExampleBot(argv);break;case"new":switch(argv.bot){case"bot":yeomanEnv.run("exobot:app");break;case"adapter":yeomanEnv.run("exobot:adapter");break;case"plugin":yeomanEnv.run("exobot:plugin")}}},function(e,_){e.exports=require("vm")},function(e,_){e.exports=require("chalk")},function(e,_){e.exports=require("progress-bar-webpack-plugin")},function(e,_){e.exports=require("webpack-node-externals")},function(e,_){e.exports=require("generator-exobot")},function(e,_){e.exports=require("yargs")}]));
//# sourceMappingURL=run.js.map